function [ output ] = hartmann6( x )
    alpha = [1.0, 1.2, 3.0, 3.2];
    A = [[10.0, 3.00, 17.0, 3.50, 1.70, 8.00],
         [0.05, 10.0, 17.0, 0.10, 8.00, 14.0],
         [3.00, 3.50, 1.70, 10.0, 17.0, 8.00],
         [17.0, 8.00, 0.05, 10.0, 0.10, 14.0]];
    P = [[0.1312,0.1696,0.5569,0.0124,0.8283,0.5886],
         [0.2329,0.4135,0.8307,0.3736,0.1004,0.9991],
         [0.2348,0.1451,0.3522,0.2883,0.3047,0.6650],
         [0.4047,0.8828,0.8732,0.5743,0.1091,0.0381]];
    

    n_repeat = floor(numel(x) / 6);
    output = 0;
    for ii = 1:n_repeat
        w1 = (x(6 * ii - 5) + 1) * 0.5;
        w2 = (x(6 * ii - 4) + 1) * 0.5;
        w3 = (x(6 * ii - 3) + 1) * 0.5;
        w4 = (x(6 * ii - 2) + 1) * 0.5;
        w5 = (x(6 * ii - 1) + 1) * 0.5;
        w6 = (x(6 * ii - 0) + 1) * 0.5;
        s = 0;
        for i = 1:4
            sm = 0;
            sm = sm + A(i,1)*(w1 - P(i,1))^2;
            sm = sm + A(i,2)*(w2 - P(i,2))^2;
            sm = sm + A(i,3)*(w3 - P(i,3))^2;
            sm = sm + A(i,4)*(w4 - P(i,4))^2;
            sm = sm + A(i,5)*(w5 - P(i,5))^2;
            sm = sm + A(i,6)*(w6 - P(i,6))^2;
            s = s - alpha(i) * exp(-sm);
        end
        output = output + s;
    end
    output = output / n_repeat;
end

